@model Resources.Afflictions

<h1>Afflictions</h1>

<form method="post">
    <input type="hidden" name="SelectedCurseName" value="@Model.SelectedCurse" />
    <select id="curseDropdown" name="curseDropdown">
        <option value="">Select a Curse</option>
            @foreach (var curse in ((IEnumerable<SelectListItem>)ViewBag.CurseList ?? Enumerable.Empty<SelectListItem>()).OrderBy(a => a.Text))
        {
                <option value="@curse.Value">@curse.Text</option>
        }
    </select>
    <button type="submit">Submit</button>
</form>

<form method="post">
    <input type="hidden" name="SelectedDiseaseName" value="@Model.SelectedDisease" />
    <select id="diseaseDropdown" name="diseaseDropdown">
        <option value="">Select a Disease</option>
        @foreach (var disease in ((IEnumerable<SelectListItem>)Model.DiseaseList ?? Enumerable.Empty<SelectListItem>()).OrderBy(a => a.Text))
        {
            <option value="@disease.Value">@disease.Text</option>
        }
    </select>
    <button type="submit">Submit</button>
</form>

@if (Model.SelectedCurse != null)
{
    <h2>Selected Curse: @Model.SelectedCurse</h2>
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Source</th>
                <th>Page</th>
                <th>Type</th>
                <th>Level</th>
                <th>Traits</th>
            </tr>
        </thead>
        <tbody>
                <tr>
                <td>@Model.SelectedCurse.name</td>
                <td>@Model.SelectedCurse.source?.ToString()</td>
                <td>@Model.SelectedCurse.page</td>
                <td>@Model.SelectedCurse.type?.ToString()</td>
                <td>@Model.SelectedCurse.level?.ToString()</td>
                <td>@string.Join(", ", Model.SelectedCurse.traits ?? new List<string>())</td>
                </tr>

        </tbody>
    </table>
}


@if (Model.SelectedDisease != null)
{
    <h2>Selected Disease: @Model.SelectedDisease</h2>
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Source</th>
                <th>Page</th>
                <th>Type</th>
                <th>Level</th>
                <th>Traits</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>@Model.SelectedDisease.name</td>
                <td>@Model.SelectedDisease.source?.ToString()</td>
                <td>@Model.SelectedDisease.page</td>
                <td>@Model.SelectedDisease.type?.ToString()</td>
                <td>@Model.SelectedDisease.level.ToString()</td>
                <td>@string.Join(", ", Model.SelectedDisease.traits ?? new List<string>())</td>
            </tr>

        </tbody>
    </table>
}